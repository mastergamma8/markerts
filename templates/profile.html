{% extends "base.html" %}
{% block title %}–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è{% endblock %}

{% block content %}
  <div class="d-flex align-items-center mb-3">
    {% if user.photo_url %}
      <img src="{{ user.photo_url }}" alt="Avatar" style="width:100px; height:100px; border-radius:50%; object-fit:cover; border:2px solid #ddd; margin-right:15px;">
    {% else %}
      <div class="bg-secondary text-white rounded-circle mr-3" style="width:100px; height:100px; display:flex; align-items:center; justify-content:center;">
        –ü—Ä–æ—Ñ–∏–ª—å
      </div>
    {% endif %}
    <div>
      <h2>{{ user.username }}</h2>
      <p>ID: {{ user_id }}</p>
      <p>–ë–∞–ª–∞–Ω—Å: {{ user.balance }} üíé</p>
    </div>
  </div>

  {% if is_owner %}
    <h4>–ú–æ–∏ –Ω–æ–º–µ—Ä–∞</h4>
  {% else %}
    <h4>–ù–æ–º–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ user.username }}</h4>
  {% endif %}

  {% if user.tokens %}
    <div class="row">
      {% for token in user.tokens %}
        <div class="col-md-6 mb-3">
          <div class="card">
            <div class="card-body text-center" style="background-color: {{ token.bg_color }}; color: {{ token.text_color }};">
              <h4>{{ token.token }}</h4>
              <p>–û—Ü–µ–Ω–∫–∞: {{ token.score }}</p>
              <p><small>{{ token.timestamp }}</small></p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>–£ –≤–∞—Å –Ω–µ—Ç –Ω–æ–º–µ—Ä–æ–≤.</p>
  {% endif %}
{% endblock %}
